"use strict";(self.webpackChunkproject_management_app=self.webpackChunkproject_management_app||[]).push([[35],{35:function(n,e,t){t.r(e),t.d(e,{default:function(){return Ye}});var o,r,i,a,s,u,c,l,d,p,f,m=t(9439),x=t(2791),h=t(3168),b=t(7689),g=t(4914),k=t(4139),Z=t(4289),v=t(140),C=function(){var n=(0,g.C)(v.v9),e=(0,b.UO)().id,t=(0,Z.ai)(null!==e&&void 0!==e?e:"",{skip:!n}),o=t.data,r=t.isFetching,i=t.isSuccess,a=t.isError,s=t.isUninitialized;return{selectedProject:o,isLoadingSelectedProject:r,isSuccessSelectedProject:i,isNavigate:!o&&(s||a||i)}},w=t(4165),y=t(1413),P=t(5861),j=t(5987),T=t(3433),S=t(5280),I=t(3934),L=t(2306),O=t(1955),E=["_id","boardId"],_=O.Z.injectEndpoints({endpoints:function(n){return{getAllColumns:n.query({query:function(n){return(0,I.R)("".concat(L.A.boards).concat(n,"/").concat(L.A.columns),L.f.get)},onQueryStarted:function(){var n=(0,P.Z)((0,w.Z)().mark((function n(e,t){var o,r,i,a;return(0,w.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=t.dispatch,r=t.queryFulfilled,i=t.getState,n.prev=1,a=i().column.isCreateColumnPopupOpen,n.next=5,r;case 5:a&&o((0,S.FS)(!1)),n.next=12;break;case 8:if(n.prev=8,n.t0=n.catch(1),!(n.t0 instanceof Error)){n.next=12;break}throw n.t0;case 12:case"end":return n.stop()}}),n,null,[[1,8]])})));return function(e,t){return n.apply(this,arguments)}}(),transformResponse:function(n){return n.sort((function(n,e){return n.order-e.order}))},providesTags:function(n){return n?[].concat((0,T.Z)(n.map((function(n){return{type:"Column",id:n._id}}))),["Column"]):["Column"]}}),createColumn:n.mutation({query:function(n){var e=n.id,t=n.body;return(0,y.Z)((0,y.Z)({},(0,I.R)("".concat(L.A.boards).concat(e,"/").concat(L.A.columns),L.f.post)),{},{body:t})},invalidatesTags:["Column"]}),deleteColumnById:n.mutation({query:function(n){var e=n._id,t=n.boardId;return(0,I.R)("".concat(L.A.boards).concat(t,"/").concat(L.A.columns).concat(e),L.f.delete)},invalidatesTags:["Column"]}),updateColumnById:n.mutation({query:function(n){var e=n._id,t=n.boardId,o=(0,j.Z)(n,E);return(0,y.Z)((0,y.Z)({},(0,I.R)("".concat(L.A.boards).concat(t,"/").concat(L.A.columns).concat(e),L.f.put)),{},{body:o})},invalidatesTags:["Column"]}),updateOrderColumn:n.mutation({query:function(n){return(0,y.Z)((0,y.Z)({},(0,I.R)("".concat(L.A.columnsSet),L.f.patch)),{},{body:n})},invalidatesTags:["Column"]}),getColumnById:n.query({query:function(n){var e=n._id,t=n.boardId;return(0,I.R)("".concat(L.A.boards).concat(t,"/").concat(L.A.columns).concat(e),L.f.get)},providesTags:["Column"]})}}}),A=_.useGetAllColumnsQuery,z=_.useCreateColumnMutation,D=_.useDeleteColumnByIdMutation,F=_.useUpdateColumnByIdMutation,q=_.useUpdateOrderColumnMutation,W=(_.useGetColumnByIdQuery,t(873)),R=function(n){return n.column},$=(0,W.P1)(R,(function(n){return n.selectedColumn})),M=(0,W.P1)(R,(function(n){return n.isDeleteColumnPopupOpen})),B=(0,W.P1)(R,(function(n){return n.isCreateColumnPopupOpen})),N=(0,W.P1)([function(n,e){return _.endpoints.getAllColumns.select(e)(n)},function(n,e){return e}],(function(n){var e;return null!==(e=n.data)&&void 0!==e?e:[]})),G=function(n){var e=(0,g.C)(B),t=(0,g.T)(),o=(0,b.UO)().id,r=z(),i=(0,m.Z)(r,2),a=i[0],s=i[1],u=s.isLoading,c=s.isSuccess,l=(0,x.useCallback)(function(){var e=(0,P.Z)((0,w.Z)().mark((function e(t){return(0,w.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o){e.next=3;break}return e.next=3,a({id:o,body:(0,y.Z)((0,y.Z)({},t),{},{order:n?n.length:0})});case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[e]);return(0,x.useEffect)((function(){return function(){e&&t((0,S.FS)(!1))}}),[]),{isSuccessCreateColumn:c,isCreateColumnPopupOpen:e,isLoadingCreateColumn:u,onSubmit:l,id:o}},U=function(){var n=(0,g.C)($),e=(0,g.C)(M),t=(0,g.T)(),o=D(),r=(0,m.Z)(o,2),i=r[0],a=r[1].isLoading,s=(0,x.useCallback)((0,P.Z)((0,w.Z)().mark((function e(){return(0,w.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=5;break}return t((0,S.i4)(!1)),t((0,S._$)(null)),e.next=5,i(n);case 5:case"end":return e.stop()}}),e)}))),[n]);return(0,x.useEffect)((function(){return function(){e&&(t((0,S.i4)(!1)),t((0,S._$)(null)))}}),[]),{isLoadingDeleteColumn:a,isDeleteColumnPopupOpen:e,deleteColumn:s}},V=function(){var n=(0,b.UO)().id,e=(0,x.useState)([]),t=(0,m.Z)(e,2),o=t[0],r=t[1],i=(0,g.C)(v.v9),a=(0,g.C)((function(e){return N(e,null!==n&&void 0!==n?n:"")})),s=A(null!==n&&void 0!==n?n:"",{skip:!i}),u=s.isFetching,c=s.isSuccess;return(0,x.useEffect)((function(){a&&r(a)}),[a]),{columns:a,columnList:o,isLoadingColumnList:u,isSuccessGetColumnList:c,setColumnList:r}},Q=function(){var n=F(),e=(0,m.Z)(n,2),t=e[0],o=e[1].isLoading,r=(0,x.useCallback)(function(){var n=(0,P.Z)((0,w.Z)().mark((function n(e,o){return(0,w.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t((0,y.Z)((0,y.Z)({},o),{},{title:e}));case 2:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),[]);return{isLoadingEditColumnTitle:o,editColumnTitle:r}},J=t(274),Y=t(7384),H=O.Z.injectEndpoints({endpoints:function(n){return{getAllTasks:n.query({query:function(n){var e=n.boardId,t=n.columnId;return(0,I.R)("".concat(L.A.boards).concat(e,"/").concat(L.A.columns).concat(t,"/").concat(L.A.tasks),L.f.get)},transformResponse:function(n){return n.map((function(n){return(0,y.Z)((0,y.Z)({},n),JSON.parse(n.description))})).sort((function(n,e){return n.order-e.order}))},onQueryStarted:function(){var n=(0,P.Z)((0,w.Z)().mark((function n(e,t){var o,r,i,a,s,u;return(0,w.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=t.dispatch,r=t.queryFulfilled,i=t.getState,n.prev=1,o((0,Y.vv)(!0)),a=i().task,s=a.isEditTaskPopupOpen,u=a.isCreateTaskPopupOpen,n.next=6,r;case 6:o((0,Y.vv)(!1)),u?o((0,Y.W1)(!1)):s&&o((0,Y.IE)(!1)),n.next=14;break;case 10:if(n.prev=10,n.t0=n.catch(1),!(n.t0 instanceof Error)){n.next=14;break}throw n.t0;case 14:case"end":return n.stop()}}),n,null,[[1,10]])})));return function(e,t){return n.apply(this,arguments)}}(),providesTags:function(n){return n?[].concat((0,T.Z)(n.map((function(n){return{type:"Task",id:n._id}}))),["Task"]):["Task"]}}),createTask:n.mutation({query:function(n){var e=n.boardId,t=n.columnId,o=n.body;return(0,y.Z)((0,y.Z)({},(0,I.R)("".concat(L.A.boards).concat(e,"/").concat(L.A.columns).concat(t,"/").concat(L.A.tasks),L.f.post)),{},{body:o})},invalidatesTags:["Task"]}),updateTask:n.mutation({query:function(n){var e=n.boardId,t=n.columnId,o=n.id,r=n.body;return(0,y.Z)((0,y.Z)({},(0,I.R)("".concat(L.A.boards).concat(e,"/").concat(L.A.columns).concat(t,"/").concat(L.A.tasks).concat(o),L.f.put)),{},{body:(0,y.Z)((0,y.Z)({},r),{},{columnId:t})})},invalidatesTags:["Task"]}),updateOrderTask:n.mutation({query:function(n){return(0,y.Z)((0,y.Z)({},(0,I.R)("".concat(L.A.tasksSet),L.f.patch)),{},{body:n})},invalidatesTags:["Task"]}),deleteTask:n.mutation({query:function(n){var e=n.boardId,t=n.columnId,o=n.id;return(0,y.Z)({},(0,I.R)("".concat(L.A.boards).concat(e,"/").concat(L.A.columns).concat(t,"/").concat(L.A.tasks).concat(o),L.f.delete))},invalidatesTags:["Task"]})}}}),K=H.useGetAllTasksQuery,X=H.useCreateTaskMutation,nn=H.useUpdateTaskMutation,en=H.useUpdateOrderTaskMutation,tn=H.useDeleteTaskMutation,on=function(n){return n.task},rn=(0,W.P1)(on,(function(n){return n.selectedTask})),an=(0,W.P1)(on,(function(n){return n.isCreateTaskPopupOpen})),sn=(0,W.P1)(on,(function(n){return n.isDeleteTaskPopupOpen})),un=(0,W.P1)(on,(function(n){return n.isEditTaskPopupOpen})),cn=(0,W.P1)(on,(function(n){return n.isLoadingGetAllTasks})),ln=(0,W.P1)([function(n,e){return H.endpoints.getAllTasks.select(e)(n)},function(n,e){return e}],(function(n){var e;return null!==(e=n.data)&&void 0!==e?e:[]})),dn=t(9135),pn=t(4918),fn=t(9988),mn=t(3237),xn=t(3090),hn=t(7138),bn=["title"],gn=function(n){var e=(0,g.C)(an),t=(0,g.C)(v.nX),o=(0,g.C)($),r=(0,g.T)(),i=X(),a=(0,m.Z)(i,2),s=a[0],u=a[1].isLoading,c=(0,x.useCallback)((function(n){r((0,S._$)(n)),r((0,Y.W1)(!0))}),[]),l=(0,x.useCallback)(function(){var e=(0,P.Z)((0,w.Z)().mark((function e(r){var i,a,u;return(0,w.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=r.title,a=(0,j.Z)(r,bn),!o){e.next=4;break}return e.next=4,s({boardId:o.boardId,columnId:o._id,body:{title:i,description:JSON.stringify((0,y.Z)({},a)),userId:null!==(u=null===t||void 0===t?void 0:t._id)&&void 0!==u?u:"",users:[a.responsibleUser],order:n[o._id]?n[o._id].length:0}});case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[e]);return(0,x.useEffect)((function(){return function(){e&&(r((0,Y.W1)(!1)),r((0,Y.iN)(null)))}}),[]),{isCreateTaskPopupOpen:e,isLoadingCreateTask:u,createTaskOnSubmit:l,showCreateTaskPopup:c}},kn=function(n){var e=(0,g.C)(sn),t=tn(),o=(0,m.Z)(t,2),r=o[0],i=o[1].isLoading,a=(0,g.T)(),s=(0,x.useCallback)((function(n,e){n.stopPropagation(),a((0,Y.iN)(e)),a((0,Y.Lz)(!0))}),[]),u=(0,x.useCallback)((0,P.Z)((0,w.Z)().mark((function e(){var t,o;return(0,w.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=6;break}return t=n.boardId,o=n.columnId,a((0,Y.Lz)(!1)),a((0,Y.iN)(null)),e.next=6,r({boardId:t,columnId:o,id:n._id});case 6:case"end":return e.stop()}}),e)}))),[n]);return(0,x.useEffect)((function(){!e&&n&&a((0,Y.iN)(null))}),[e]),(0,x.useEffect)((function(){return function(){e&&(a((0,Y.Lz)(!1)),a((0,Y.iN)(null)))}}),[]),{isDeleteTaskPopupOpen:e,isLoadingDeleteTask:i,showDeletePopupOnClick:s,deleteTask:u}},Zn=function(n){var e=(0,g.C)(un),t=nn(),o=(0,m.Z)(t,2),r=o[0],i=o[1].isLoading,a=(0,g.T)(),s=(0,x.useCallback)((function(n){a((0,Y.iN)(n)),a((0,Y.IE)(!0))}),[]),u=(0,x.useCallback)(function(){var e=(0,P.Z)((0,w.Z)().mark((function e(t){var o,i,s,u,c,l,d,p;return(0,w.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.title,i=t.color,s=t.description,u=t.responsibleUser,!n){e.next=7;break}return c=n.boardId,l=n.columnId,d=n.userId,p=n.order,a((0,Y.IE)(!1)),a((0,Y.iN)(null)),e.next=7,r({boardId:c,columnId:l,id:n._id,body:{title:o,description:JSON.stringify({color:i,description:s}),userId:d,users:[u],order:p}});case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[n]);return(0,x.useEffect)((function(){return function(){e&&(a((0,Y.IE)(!1)),a((0,Y.iN)(null)))}}),[]),{isEditTaskPopupOpen:e,isLoadingEditTask:i,showEditPopupOnClick:s,editTaskOnSubmit:u}},vn=t(4942),Cn=function(n,e,t,o){var r=q(),i=(0,m.Z)(r,1)[0],a=en(),s=(0,m.Z)(a,1)[0];return{onDragEnd:function(r){var a=r.destination,u=r.source,c=r.type;if(a){if("column"===c){if((null===a||void 0===a?void 0:a.droppableId)===u.droppableId&&a.index===u.index)return;var l=(0,T.Z)(n),d=l.splice(u.index,1),p=(0,m.Z)(d,1)[0];l.splice(a.index,0,p),e(l),i(l.map((function(n,e){return{_id:n._id,order:e}})))}if("task"===c){var f=(0,T.Z)(t[u.droppableId]),x=(0,T.Z)(t[a.droppableId]);if(u.droppableId!==a.droppableId){var h=f.splice(u.index,1),b=(0,m.Z)(h,1)[0];x.splice(a.index,0,b),o((function(n){var e;return(0,y.Z)((0,y.Z)({},n),{},(e={},(0,vn.Z)(e,u.droppableId,f),(0,vn.Z)(e,a.droppableId,(0,T.Z)(x.map((function(n){return(0,y.Z)((0,y.Z)({},n),{},{columnId:a.droppableId})})))),e))})),s([].concat((0,T.Z)(f.map((function(n,e){return{_id:n._id,columnId:n.columnId,order:e}}))),(0,T.Z)(x.map((function(n,e){return{_id:n._id,order:e,columnId:a.droppableId}})))))}else{var g=(0,T.Z)(f),k=g.splice(u.index,1),Z=(0,m.Z)(k,1)[0];g.splice(a.index,0,Z),o((function(n){return(0,y.Z)((0,y.Z)({},n),{},(0,vn.Z)({},u.droppableId,g))})),s(g.map((function(n,e){return{_id:n._id,columnId:n.columnId,order:e}})))}}}}}},wn=t(3025),yn=t(168),Pn=t(4313),jn=Pn.ZP.div(o||(o=(0,yn.Z)(["\n  display: flex;\n  overflow: auto;\n  width: 100%;\n  gap: 25px;\n  height: calc(100vh - 430px);\n\n  @media (max-width: 800px) {\n    height: calc(100vh - 320px);\n  }\n\n  &::-webkit-scrollbar {\n    width: 16px;\n    background-color: ",";\n  }\n\n  &::-webkit-scrollbar-track {\n    background-color: ",";\n    border-radius: 16px;\n  }\n\n  &::-webkit-scrollbar-thumb {\n    background-color: #babac0;\n    border-radius: 16px;\n    border: 4px solid ",";\n  }\n\n  &::-webkit-scrollbar-button {\n    display: none;\n  }\n"])),(function(n){return n.theme.colors.backgroundGrey}),(function(n){return n.theme.colors.backgroundWhite}),(function(n){return n.theme.colors.backgroundWhite})),Tn=Pn.ZP.div(r||(r=(0,yn.Z)(["\n  min-width: 300px;\n  max-width: 300px;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  gap: 10px;\n  padding: 10px;\n  margin-bottom: 10px;\n  border-radius: 10px;\n  border-left: 5px solid\n    ",";\n  box-shadow: 0px 10px 13px rgb(0 0 0 / 2%);\n  background-color: ",";\n  cursor: default;\n\n  @media (max-width: 400px) {\n    min-width: 270px;\n  }\n\n  @media (max-width: 360px) {\n    min-width: 240px;\n  }\n"])),(function(n){var e=n.$isDragging,t=n.theme;return e?t.colors.primaryColor:t.colors.grey}),(function(n){return n.theme.colors.backgroundWhite})),Sn=(Pn.ZP.div(i||(i=(0,yn.Z)(["\n  width: 100%;\n  height: auto;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 10px;\n"]))),Pn.ZP.h3(a||(a=(0,yn.Z)(["\n  font-size: ",";\n  font-family: ",";\n  text-align: left;\n"])),(function(n){return n.theme.fontSizes.h5}),(function(n){return n.theme.fonts.title})),Pn.ZP.div(s||(s=(0,yn.Z)(["\n  width: 100%;\n  height: 100%;\n  overflow-y: auto;\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n\n  &::-webkit-scrollbar {\n    width: 16px;\n    background-color: ",";\n  }\n\n  &::-webkit-scrollbar-track {\n    border-radius: 16px;\n    background-color: ",";\n  }\n\n  &::-webkit-scrollbar-thumb {\n    background-color: #babac0;\n    border-radius: 16px;\n    border: 4px solid ",";\n  }\n\n  &::-webkit-scrollbar-button {\n    display: none;\n  }\n"])),(function(n){return n.theme.colors.backgroundWhite}),(function(n){return n.theme.colors.backgroundWhite}),(function(n){return n.theme.colors.backgroundWhite}))),In=function(n,e,t){var o=(0,g.C)(v.v9),r=K({boardId:n,columnId:e},{skip:!o}).isSuccess,i=(0,g.C)((function(t){return ln(t,{boardId:n,columnId:e})}));return(0,x.useEffect)((function(){i&&r&&t((function(n){return(0,y.Z)((0,y.Z)({},n),{},(0,vn.Z)({},e,i))}))}),[i,r]),{tasks:i,isSuccessGetAllTasks:r}},Ln=t(9250),On=t(7766),En=t(6842),_n=t(7526),An=Pn.ZP.div(u||(u=(0,yn.Z)(["\n  display: flex;\n  width: 100%;\n"]))),zn=Pn.ZP.h5(c||(c=(0,yn.Z)(["\n  font-size: ",";\n  font-family: ",";\n  font-weight: ",";\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n  max-width: 210px;\n\n  @media (max-width: 400px) {\n    max-width: 170px;\n  }\n"])),(function(n){return n.theme.fontSizes.h5}),(function(n){return n.theme.fonts.text}),(function(n){return n.theme.fontsWeight.bold})),Dn=Pn.ZP.form(l||(l=(0,yn.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 8px;\n  height: 80px;\n\n  Button {\n    margin-top: 8px;\n    padding: 0;\n    align-self: flex-start;\n  }\n\n  "," {\n    min-height: 32px;\n  }\n"])),En.xl),Fn=Pn.ZP.div(d||(d=(0,yn.Z)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n"]))),qn=Pn.ZP.div(p||(p=(0,yn.Z)(["\n  display: flex;\n  width: 100%;\n\n  "," {\n    padding: 0;\n    align-self: center;\n  }\n"])),_n.Z),Wn=Pn.ZP.div(f||(f=(0,yn.Z)(["\n  display: flex;\n  align-items: flex-start;\n  gap: 8px;\n  height: 80px;\n  padding-top: 10px;\n\n  Button {\n    padding: 0;\n    align-self: flex-end;\n  }\n"]))),Rn=t(1134),$n=t(4307),Mn=t(3329);function Bn(n){var e=n.item,t=n.toggleEditingTextOnClick,o=n.editText,r=(0,h.$)("translation"),i=r.t,a=r.i18n,s=(0,Rn.cI)({mode:"onSubmit",reValidateMode:"onSubmit",defaultValues:{title:e.title}}),u=s.register,c=s.handleSubmit,l=s.clearErrors,d=s.trigger,p=s.setFocus,f=s.formState.errors;return(0,x.useEffect)((function(){f&&d(["title"])}),[a.language]),(0,x.useEffect)((function(){p("title")}),[]),(0,Mn.jsxs)(Dn,{"aria-label":"form",noValidate:!0,autoComplete:"off",onSubmit:c((function(n){var t=n.title;return o(t,e)})),children:[(0,Mn.jsx)($n.Z,{type:"text",name:"title",errors:f.title,register:u,clearErrors:l,minLength:{value:3,message:i("editForm.titleMinLength")},maxLength:{value:25,message:i("editForm.titleMaxLength")},required:i("editForm.required")}),(0,Mn.jsx)(xn.Z,{type:"submit",width:"25px",backgroundColor:On.Z.colors.transparent,children:(0,Mn.jsx)(Ln.PO,{})}),(0,Mn.jsx)(xn.Z,{type:"button",width:"25px",backgroundColor:On.Z.colors.transparent,callback:t,children:(0,Mn.jsx)(Ln.E5,{})})]})}var Nn=(0,x.memo)(Bn);var Gn,Un,Vn,Qn,Jn,Yn,Hn,Kn,Xn,ne,ee,te=function(n){var e=n.item,t=n.isSuccess,o=n.isLoading,r=n.deleteItemOnClick,i=n.editText,a=(0,x.useState)(!1),s=(0,m.Z)(a,2),u=s[0],c=s[1],l=(0,x.useCallback)((function(){c((function(n){return!n}))}),[u]);return(0,x.useEffect)((function(){t&&!o&&c(!1)}),[t,o]),(0,Mn.jsx)(Fn,{children:u?(0,Mn.jsx)(Nn,{item:e,toggleEditingTextOnClick:l,editText:i}):(0,Mn.jsx)(Wn,{children:(0,Mn.jsxs)(An,{children:[(0,Mn.jsxs)(qn,{children:[(0,Mn.jsx)(zn,{onClick:l,children:e.title}),(0,Mn.jsx)(xn.Z,{type:"button",width:"25px",backgroundColor:On.Z.colors.transparent,callback:l,children:(0,Mn.jsx)(Ln.z9,{})})]}),(0,Mn.jsx)(xn.Z,{type:"button",width:"25px",backgroundColor:On.Z.colors.transparent,color:On.Z.colors.pink,callback:function(){return r(e)},children:(0,Mn.jsx)(Ln.lT,{})})]})})})},oe=t(71),re=(Pn.ZP.div(Gn||(Gn=(0,yn.Z)(["\n  width: 100%;\n  height: 100%;\n  overflow-y: auto;\n  overflow-x: hidden;\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n\n  &::-webkit-scrollbar {\n    width: 16px;\n    background-color: ",";\n  }\n\n  &::-webkit-scrollbar-track {\n    border-radius: 16px;\n    background-color: ",";\n  }\n\n  &::-webkit-scrollbar-thumb {\n    background-color: #babac0;\n    border-radius: 16px;\n    border: 4px solid ",";\n  }\n\n  &::-webkit-scrollbar-button {\n    display: none;\n  }\n"])),(function(n){return n.theme.colors.backgroundWhite}),(function(n){return n.theme.colors.backgroundWhite}),(function(n){return n.theme.colors.backgroundWhite})),Pn.ZP.div(Un||(Un=(0,yn.Z)(["\n  width: auto;\n  min-height: 100px;\n  max-height: 200px;\n  display: flex;\n  flex-direction: column;\n  padding: 10px;\n  border-radius: 10px;\n  background-color: ",";\n  transition: ",";\n  cursor: grab;\n  gap: 5px;\n\n  &:active {\n    cursor: grabbing;\n  }\n"])),(function(n){var e=n.$backgroundColor,t=n.theme;return null!==e&&void 0!==e?e:t.colors.primaryColor}),(function(n){return n.theme.effects.transition}))),ie=Pn.ZP.div(Vn||(Vn=(0,yn.Z)(["\n  min-width: 100%;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  transition: ",";\n  gap: 20px;\n"])),(function(n){return n.theme.effects.transition})),ae=Pn.ZP.button.attrs({type:"button"})(Qn||(Qn=(0,yn.Z)(["\n  background-color: ",";\n  border: none;\n  outline: none;\n  min-width: 25px;\n  transition: ",";\n  cursor: pointer;\n\n  &:hover:enabled {\n    opacity: ",";\n  }\n\n  &:active:enabled {\n    opacity: ",";\n  }\n\n  svg {\n    width: 100%;\n    height: 100%;\n  }\n"])),(function(n){return n.theme.colors.transparent}),(function(n){return n.theme.effects.transition}),(function(n){return n.theme.effects.hoverOpacity}),(function(n){return n.theme.effects.activeOpacity})),se=Pn.ZP.h3(Jn||(Jn=(0,yn.Z)(["\n  font-size: ",";\n  font-family: ",";\n  text-align: left;\n  overflow-x: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  transition: ",";\n\n  &:hover {\n    cursor: pointer;\n    color: ",";\n    text-decoration: underline;\n  }\n"])),(function(n){return n.theme.fontSizes.text}),(function(n){return n.theme.fonts.title}),(function(n){return n.theme.effects.transition}),(function(n){return n.theme.colors.backgroundWhite})),ue=Pn.ZP.div(Yn||(Yn=(0,yn.Z)(["\n  display: flex;\n"]))),ce=Pn.ZP.p(Hn||(Hn=(0,yn.Z)(["\n  font-size: ",";\n  overflow-x: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  height: 20px;\n"])),(function(n){return n.theme.fontSizes.smallText})),le=(0,Pn.ZP)(oe.bjh)(Kn||(Kn=(0,yn.Z)(["\n  color: ",";\n"])),(function(n){return n.theme.colors.backgroundWhite})),de=Pn.ZP.div(Xn||(Xn=(0,yn.Z)(["\n  font-size: ",";\n  word-break: break-word;\n  overflow: hidden;\n"])),(function(n){return n.theme.fontSizes.smallNoteText})),pe=Pn.ZP.p(ne||(ne=(0,yn.Z)(["\n  font-style: italic;\n  color: ",";\n"])),(function(n){return n.theme.colors.grey})),fe=Pn.ZP.span(ee||(ee=(0,yn.Z)(["\n  display: inline-block;\n  background-color: ",";\n  padding: 0 7px 0 5px;\n  border-radius: 3px;\n  color: ",";\n"])),(function(n){return n.theme.colors.backgroundWhite}),(function(n){return n.theme.colors.text}));function me(n){var e=n.task,t=n.taskIndex,o=n.showEditPopupOnClick,r=n.showDeletePopupOnClick,i=(0,h.$)("translation",{keyPrefix:"task"}).t;return(0,Mn.jsx)(hn._l,{draggableId:e._id,index:t,children:function(n){return(0,Mn.jsxs)(re,(0,y.Z)((0,y.Z)((0,y.Z)({$backgroundColor:e.color,ref:n.innerRef},n.draggableProps),n.dragHandleProps),{},{children:[(0,Mn.jsxs)(ie,{children:[(0,Mn.jsx)(se,{onClick:function(){return o(e)},children:e.title}),(0,Mn.jsx)(ae,{onClick:function(n){return r(n,e)},children:(0,Mn.jsx)(le,{})})]}),(0,Mn.jsx)(ue,{children:(0,Mn.jsx)(ce,{children:e.description})}),e.users[0]&&(0,Mn.jsx)(de,{children:(0,Mn.jsxs)(pe,{children:[i("responsible"),(0,Mn.jsxs)(fe,{children:[" ",e.users[0]," "]})]})})]}),e._id)}})}var xe=(0,x.memo)(me);function he(n){var e=n.column,t=n.columnIndex,o=n.isSuccessGetColumnList,r=n.isLoadingColumnList,i=n.taskList,a=n.setTaskList,s=n.showCreateTaskPopup,u=n.editColumnTitle,c=n.deleteColumnOnClick,l=n.showEditPopupOnClick,d=n.showDeletePopupOnClick,p=(0,h.$)("translation",{keyPrefix:"columnContainer"}).t;return In(e.boardId,e._id,a),(0,Mn.jsx)(hn._l,{draggableId:e._id,index:t,children:function(n,t){return(0,Mn.jsxs)(Tn,(0,y.Z)((0,y.Z)((0,y.Z)({ref:n.innerRef},n.draggableProps),n.dragHandleProps),{},{$isDragging:t.isDragging,style:(0,y.Z)((0,y.Z)({},n.draggableProps.style),{},{cursor:"default"}),children:[(0,Mn.jsx)(te,{item:e,isSuccess:o,isLoading:r,deleteItemOnClick:c,editText:u}),(0,Mn.jsx)(hn.bK,{droppableId:e._id,direction:"vertical",type:"task",children:function(n){return(0,Mn.jsxs)(Sn,(0,y.Z)((0,y.Z)({ref:n.innerRef},n.droppableProps),{},{children:[i[e._id]&&i[e._id].map((function(n,e){return(0,Mn.jsx)(xe,{task:n,taskIndex:e,showEditPopupOnClick:l,showDeletePopupOnClick:d},n._id)})),n.placeholder]}))}}),(0,Mn.jsx)(xn.Z,{type:"button",backgroundColor:On.Z.colors.transparent,color:On.Z.colors.grey,callback:function(){return s(e)},children:"+ ".concat(p("newTaskButton"))})]}))}})}var be=(0,x.memo)(he);function ge(){var n=(0,g.C)(rn),e=(0,x.useState)({}),t=(0,m.Z)(e,2),o=t[0],r=t[1],i=(0,g.T)(),a=V(),s=a.columnList,u=a.isSuccessGetColumnList,c=a.isLoadingColumnList,l=a.setColumnList,d=Q().editColumnTitle,p=gn(o),f=p.isCreateTaskPopupOpen,h=p.isLoadingCreateTask,b=p.createTaskOnSubmit,k=p.showCreateTaskPopup,Z=Zn(n),v=Z.isEditTaskPopupOpen,C=Z.isLoadingEditTask,w=Z.editTaskOnSubmit,P=Z.showEditPopupOnClick,j=kn(n),T=j.isDeleteTaskPopupOpen,I=j.isLoadingDeleteTask,L=j.deleteTask,O=j.showDeletePopupOnClick,E=[c,h,C,I].some((function(n){return n})),_=Cn(s,l,o,r).onDragEnd,A=(0,x.useCallback)((function(n){i((0,S._$)(n)),i((0,S.i4)(!0))}),[]);return(0,Mn.jsxs)(Mn.Fragment,{children:[(0,Mn.jsx)(hn.Z5,{onDragEnd:_,children:(0,Mn.jsx)(hn.bK,{droppableId:"columnList",direction:"horizontal",type:"column",children:function(n){return(0,Mn.jsxs)(jn,(0,y.Z)((0,y.Z)({ref:n.innerRef},n.droppableProps),{},{children:[s.map((function(n,e){return(0,Mn.jsx)(be,{column:n,columnIndex:e,isSuccessGetColumnList:u,isLoadingColumnList:c,taskList:o,setTaskList:r,deleteColumnOnClick:A,editColumnTitle:d,showEditPopupOnClick:P,showDeletePopupOnClick:O,showCreateTaskPopup:k},n._id)})),n.placeholder]}))}})}),(0,Mn.jsx)(wn.Z,{isPopupShown:f,setPopupShown:Y.W1,formTitleText:"newTaskTitle",keyPrefix:"editTaskForm",onSubmit:b,maxDescriptionLength:200}),(0,Mn.jsx)(wn.Z,{isPopupShown:v,setPopupShown:Y.IE,selectedItem:n,setSelectedItem:Y.iN,formTitleText:"editTitle",keyPrefix:"editTaskForm",onSubmit:w,maxDescriptionLength:200}),(0,Mn.jsx)(pn.Z,{isPopupShown:T,setPopupShown:Y.Lz,text:"deleteTask",actionOnYes:L}),E&&(0,Mn.jsx)(mn.Z,{})]})}var ke=(0,x.memo)(ge),Ze=t(4549),ve=t(6856),Ce=t(8817);function we(n){var e,t=n.keyPrefix,o=n.onSubmit,r=n.selectedItem,i=(0,h.$)("translation").t,a=(0,Rn.cI)({mode:"onSubmit",reValidateMode:"onSubmit",defaultValues:null!==r&&void 0!==r?r:Ce.hv}),s=a.register,u=a.handleSubmit,c=a.clearErrors,l=a.setFocus,d=a.formState.errors;return(0,x.useEffect)((function(){l("title")}),[]),(0,Mn.jsxs)(Ln.l0,{"aria-label":"form",noValidate:!0,autoComplete:"off",onSubmit:u(o),children:[(0,Mn.jsx)($n.Z,{type:"text",name:"title",register:s,clearErrors:c,errors:d.title,placeholderText:i("".concat(t,".title")),minLength:{value:3,message:i("editForm.titleMinLength")},maxLength:{value:25,message:i("editForm.titleMaxLength")},required:i("editForm.required")}),(0,Mn.jsx)(xn.Z,{type:"submit",disabled:!(null===(e=d.title)||void 0===e||!e.message),children:i("editForm.button")})]})}we.defaultProps={selectedItem:null};var ye,Pe,je,Te,Se,Ie=(0,x.memo)(we),Le=t(9947),Oe=(0,Pn.ZP)(Le.E.div).attrs((function(n){return{initial:"initial",animate:"animate",exit:"exit",variants:n.$variants}}))(ye||(ye=(0,yn.Z)(["\n  position: fixed;\n  display: flex;\n  z-index: 15;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  justify-content: center;\n  align-items: center;\n"]))),Ee=Pn.ZP.div(Pe||(Pe=(0,yn.Z)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 15;\n  backdrop-filter: blur(2px);\n"]))),_e=Pn.ZP.div(je||(je=(0,yn.Z)(["\n  max-width: 500px;\n  width: 100%;\n  background-color: ",";\n  padding: 25px;\n  margin: -10% 10px 0;\n  border-radius: 7px;\n  z-index: 3;\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n  position: relative;\n  z-index: 20;\n"])),(function(n){return n.theme.colors.backgroundBlue})),Ae=Pn.ZP.h3(Te||(Te=(0,yn.Z)(["\n  font-family: ",";\n  font-weight: ",";\n  font-size: ",";\n  color: ",";\n  align-self: flex-start;\n  padding: 10px 20px;\n"])),(function(n){return n.theme.fonts.title}),(function(n){return n.theme.fontsWeight.medium}),(function(n){return n.theme.fontSizes.h4}),(function(n){return n.theme.colors.title})),ze=Pn.ZP.div(Se||(Se=(0,yn.Z)(["\n  position: absolute;\n  top: 0;\n  right: 0;\n\n  svg {\n    color: ",";\n  }\n"])),(function(n){return n.theme.colors.primaryColor}));var De,Fe,qe,We,Re,$e,Me=function(n){var e=n.isPopupShown,t=n.setPopupShown,o=n.keyPrefix,r=n.title,i=n.onSubmit,a=(0,g.T)(),s=(0,h.$)("translation",{keyPrefix:o}).t,u=(0,x.useCallback)((function(){a(t(!1))}),[]);return(0,Mn.jsx)(Ze.M,{children:e&&(0,Mn.jsxs)(Oe,{$variants:dn.$z,children:[(0,Mn.jsx)(Ee,{onClick:u}),(0,Mn.jsxs)(_e,{children:[(0,Mn.jsx)(Ae,{children:s("".concat(r))}),(0,Mn.jsx)(Ie,{keyPrefix:o,onSubmit:i}),(0,Mn.jsx)(ze,{children:(0,Mn.jsx)(xn.Z,{type:"button",width:"30px",backgroundColor:On.Z.colors.transparent,callback:u,children:(0,Mn.jsx)(ve.FU5,{})})})]})]})})},Be=Pn.ZP.section(De||(De=(0,yn.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  width: 100%;\n  margin-bottom: 15px;\n  gap: 50px;\n\n  Button {\n    margin-top: 6px;\n  }\n\n  @media (max-width: 530px) {\n    gap: 10px;\n  }\n"]))),Ne=Pn.ZP.div(Fe||(Fe=(0,yn.Z)(["\n  display: flex;\n  gap: 10px;\n  overflow-x: hidden;\n\n  Button {\n    padding: 0;\n\n    &:nth-child(3) {\n      svg {\n        width: 100%;\n        height: 100%;\n      }\n    }\n  }\n"]))),Ge=Pn.ZP.h1(qe||(qe=(0,yn.Z)(["\n  font-family: ",";\n  font-weight: ",";\n  font-size: ",";\n  color: ",";\n  overflow-x: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n\n  @media (max-width: 600px) {\n    font-size: ",";\n  }\n"])),(function(n){return n.theme.fonts.title}),(function(n){return n.theme.fontsWeight.medium}),(function(n){return n.theme.fontSizes.h3}),(function(n){return n.theme.colors.title}),(function(n){return n.theme.fontSizes.h3})),Ue=Pn.ZP.div(We||(We=(0,yn.Z)(["\n  display: flex;\n"]))),Ve=Pn.ZP.p(Re||(Re=(0,yn.Z)(["\n  align-self: flex-start;\n  margin-bottom: 15px;\n  word-break: break-all;\n"]))),Qe=Pn.ZP.section($e||($e=(0,yn.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 20px;\n  width: 100%;\n  height: 100%;\n  overflow-y: none;\n  background-color: ",";\n  border-radius: 10px;\n\n  @media (max-width: 800px) {\n    margin-bottom: 20px;\n  }\n"])),(function(n){return n.theme.colors.backgroundGrey}));function Je(n){var e=n.setFooterShown,t=(0,g.C)(cn),o=(0,g.T)(),r=(0,h.$)("translation",{keyPrefix:"projectPage"}).t,i=C(),a=i.selectedProject,s=i.isLoadingSelectedProject,u=i.isNavigate,c=V(),l=c.columnList,d=c.isLoadingColumnList,p=(0,k.Z)(a),f=p.isLoadingDeleteProject,Z=p.isDeleteProjectPopupOpen,v=p.deleteProject,w=p.navigate,y=G(l),P=y.isCreateColumnPopupOpen,j=y.isLoadingCreateColumn,T=y.onSubmit,I=y.id,L=U(),O=L.isLoadingDeleteColumn,E=L.isDeleteColumnPopupOpen,_=L.deleteColumn,A=[s,d,f,O,j,Q().isLoadingEditColumnTitle,t].some((function(n){return n})),z=(0,x.useState)("".concat(r("newColumnButton"))),D=(0,m.Z)(z,2),F=D[0],q=D[1],W=(0,x.useState)("130px"),R=(0,m.Z)(W,2),$=R[0],M=R[1],B=(0,b.TH)(),N=(0,x.useRef)(null),Y=function(){N.current&&N.current.offsetWidth<=800?(q("+"),M("30px"),B.pathname==="/projects/".concat(I)&&e(!1)):(q("".concat(r("newColumnButton"))),M("130px"),e(!0))};return(0,x.useEffect)((function(){return window.addEventListener("resize",Y),Y(),function(){window.removeEventListener("resize",Y),e(!0)}}),[]),(0,Mn.jsxs)(Ln.rS,{ref:N,children:[(0,Mn.jsxs)(Be,{children:[(0,Mn.jsxs)(Ne,{children:[(0,Mn.jsx)(xn.Z,{type:"button",width:"30px",animation:dn.Ye,backgroundColor:On.Z.colors.transparent,color:On.Z.colors.primaryColor,callback:function(){return w(-1)},children:(0,Mn.jsx)(Ln.JK,{$isDisabled:s})}),(0,Mn.jsx)(Ge,{children:null===a||void 0===a?void 0:a.title}),a&&(0,Mn.jsx)(xn.Z,{type:"button",width:"30px",backgroundColor:On.Z.colors.transparent,color:On.Z.colors.pink,callback:function(){return o((0,J.dM)(!0))},children:(0,Mn.jsx)(Ln.lT,{})})]}),(0,Mn.jsx)(Ue,{children:(0,Mn.jsx)(xn.Z,{type:"button",width:$,backgroundColor:On.Z.colors.transparent,color:On.Z.colors.primaryColor,callback:function(){return o((0,S.FS)(!0))},children:F})})]}),(0,Mn.jsx)(Ve,{children:null===a||void 0===a?void 0:a.description}),(0,Mn.jsx)(Qe,{children:null!==l&&void 0!==l&&l.length?(0,Mn.jsx)(ke,{}):(0,Mn.jsx)(fn.Z,{text:"projectPage.emptyContainerText",buttonText:"projectPage.emptyContainerButton",setPopupShown:S.FS})}),(0,Mn.jsx)(pn.Z,{isPopupShown:Z,setPopupShown:J.dM,text:"deleteProject",actionOnYes:v}),(0,Mn.jsx)(pn.Z,{isPopupShown:E,setPopupShown:S.i4,text:"deleteColumn",actionOnYes:_}),(0,Mn.jsx)(Me,{isPopupShown:P,setPopupShown:S.FS,keyPrefix:"editColumnForm",title:"newColumnTitle",onSubmit:T}),A&&(0,Mn.jsx)(mn.Z,{}),u&&(0,Mn.jsx)(b.Fg,{to:"/"})]})}var Ye=(0,x.memo)(Je)}}]);
//# sourceMappingURL=35.f041d94b.chunk.js.map